[PHP]
; ============================================
; CRITIQUE : Désactiver l'affichage dans le navigateur
; C'est LA cause de "headers already sent"
; ============================================
display_errors = Off
display_startup_errors = Off
log_errors = On
error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT
error_log = /proc/self/fd/2

; ============================================
; Output buffering : absorbe les sorties accidentelles
; Protège contre les "headers already sent"
; ============================================
output_buffering = 4096

; ============================================
; Sessions PHP
; ============================================
session.save_handler = files
session.save_path = /var/www/tmp
session.cookie_httponly = 1
session.cookie_secure = 1
session.cookie_samesite = Lax
session.use_strict_mode = 1
session.use_only_cookies = 1
session.gc_maxlifetime = 3600
session.cookie_lifetime = 0

; ============================================
; Upload / POST (pour FileSender)
; ============================================
upload_max_filesize = 204800M
post_max_size = 214800M
max_execution_time = 3600
max_input_time = 3600
memory_limit = 512M

; ============================================
; Timezone (évite les warnings date())
; ============================================
date.timezone = Europe/Paris

; ============================================
; Encodage
; ============================================
default_charset = "UTF-8"
mbstring.language = Neutral
mbstring.internal_encoding = UTF-8
